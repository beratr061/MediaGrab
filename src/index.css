@import "tailwindcss";

/* Light theme (default) */
@theme {
  --color-background: hsl(0 0% 100%);
  --color-foreground: hsl(222.2 84% 4.9%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(222.2 84% 4.9%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(222.2 84% 4.9%);
  --color-primary: hsl(217 91% 60%);
  --color-primary-foreground: hsl(0 0% 100%);
  --color-secondary: hsl(210 40% 96.1%);
  --color-secondary-foreground: hsl(222.2 47.4% 11.2%);
  --color-muted: hsl(210 40% 96.1%);
  --color-muted-foreground: hsl(215.4 16.3% 46.9%);
  --color-accent: hsl(210 40% 96.1%);
  --color-accent-foreground: hsl(222.2 47.4% 11.2%);
  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(0 0% 100%);
  --color-success: hsl(142 76% 36%);
  --color-success-foreground: hsl(0 0% 100%);
  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(0 0% 0%);
  --color-border: hsl(214.3 31.8% 91.4%);
  --color-input: hsl(214.3 31.8% 91.4%);
  --color-ring: hsl(217 91% 60%);
  --radius: 0.5rem;
}

/* Dark theme */
.dark {
  --color-background: hsl(220 13% 10%);
  --color-foreground: hsl(210 40% 98%);
  --color-card: hsl(220 13% 13%);
  --color-card-foreground: hsl(210 40% 98%);
  --color-popover: hsl(220 13% 13%);
  --color-popover-foreground: hsl(210 40% 98%);
  --color-primary: hsl(217 91% 60%);
  --color-primary-foreground: hsl(0 0% 100%);
  --color-secondary: hsl(217.2 32.6% 17.5%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(217.2 32.6% 17.5%);
  --color-muted-foreground: hsl(215 20.2% 65.1%);
  --color-accent: hsl(217.2 32.6% 17.5%);
  --color-accent-foreground: hsl(210 40% 98%);
  --color-destructive: hsl(0 62.8% 50%);
  --color-destructive-foreground: hsl(0 0% 100%);
  --color-success: hsl(142 76% 42%);
  --color-success-foreground: hsl(0 0% 100%);
  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(0 0% 0%);
  --color-border: hsl(217.2 32.6% 20%);
  --color-input: hsl(217.2 32.6% 20%);
  --color-ring: hsl(217 91% 60%);
}

body {
  @apply bg-background text-foreground antialiased;
  font-family: "Segoe UI Variable", "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif;
}

/* Fluent-inspired focus styles */
*:focus-visible {
  @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* Remove focus ring from inputs inside custom containers */
input.bg-transparent:focus-visible {
  @apply ring-0 ring-offset-0;
  outline: none !important;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar for dark theme */
.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: hsl(220 13% 13%);
}

.dark ::-webkit-scrollbar-thumb {
  background: hsl(217.2 32.6% 30%);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: hsl(217.2 32.6% 40%);
}

/* High contrast theme */
.high-contrast {
  --color-background: hsl(0 0% 0%);
  --color-foreground: hsl(0 0% 100%);
  --color-card: hsl(0 0% 5%);
  --color-card-foreground: hsl(0 0% 100%);
  --color-popover: hsl(0 0% 5%);
  --color-popover-foreground: hsl(0 0% 100%);
  --color-primary: hsl(60 100% 50%);
  --color-primary-foreground: hsl(0 0% 0%);
  --color-secondary: hsl(0 0% 15%);
  --color-secondary-foreground: hsl(0 0% 100%);
  --color-muted: hsl(0 0% 15%);
  --color-muted-foreground: hsl(0 0% 70%);
  --color-accent: hsl(0 0% 20%);
  --color-accent-foreground: hsl(0 0% 100%);
  --color-destructive: hsl(0 100% 50%);
  --color-destructive-foreground: hsl(0 0% 100%);
  --color-success: hsl(120 100% 40%);
  --color-success-foreground: hsl(0 0% 0%);
  --color-warning: hsl(60 100% 50%);
  --color-warning-foreground: hsl(0 0% 0%);
  --color-border: hsl(0 0% 40%);
  --color-input: hsl(0 0% 40%);
  --color-ring: hsl(60 100% 50%);
}

/* Enhanced focus indicators for accessibility */
*:focus-visible {
  @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  outline: 3px solid transparent;
}

/* Skip link for keyboard navigation */
.skip-link {
  @apply absolute -top-10 left-4 z-9999 bg-primary text-primary-foreground px-4 py-2 rounded-md;
  transition: top 0.2s;
}

.skip-link:focus {
  @apply top-4;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Compact mode for small windows */
@media (max-height: 600px) {
  .compact-mode {
    @apply py-2;
  }
  
  .compact-mode .space-y-6 {
    @apply space-y-3;
  }
}

/* Better button hover/active states */
button:not(:disabled):hover {
  @apply brightness-105;
}

button:not(:disabled):active {
  @apply brightness-95 scale-[0.98];
  transition: transform 0.1s, filter 0.1s;
}

/* Micro-interactions */
.interactive-scale {
  transition: transform 0.15s ease-out;
}

.interactive-scale:hover {
  transform: scale(1.02);
}

.interactive-scale:active {
  transform: scale(0.98);
}

/* Theme transition animation */
.theme-transitioning,
.theme-transitioning * {
  transition: background-color 0.3s ease, 
              color 0.3s ease, 
              border-color 0.3s ease,
              box-shadow 0.3s ease !important;
}

/* Drag and drop overlay */
.drag-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center;
  @apply bg-primary/10 backdrop-blur-sm;
  @apply border-4 border-dashed border-primary rounded-lg;
  pointer-events: none;
}

.drag-overlay-content {
  @apply flex flex-col items-center gap-4 p-8 rounded-xl;
  @apply bg-background/90 shadow-2xl;
}

/* Screen reader only - visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible for better keyboard navigation */
.focus-visible-ring:focus-visible {
  @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* High contrast mode enhancements */
.high-contrast button:focus-visible,
.high-contrast a:focus-visible,
.high-contrast input:focus-visible,
.high-contrast select:focus-visible,
.high-contrast textarea:focus-visible {
  outline: 3px solid hsl(60 100% 50%) !important;
  outline-offset: 2px;
}

.high-contrast ::-webkit-scrollbar-thumb {
  background: hsl(0 0% 60%);
}

.high-contrast ::-webkit-scrollbar-track {
  background: hsl(0 0% 10%);
}

/* Ensure minimum touch target size for accessibility */
@media (pointer: coarse) {
  button,
  [role="button"],
  input[type="checkbox"],
  input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }
}
